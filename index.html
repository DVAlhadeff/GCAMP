<!DOCTYPE html> 
<html lang="en"> 
  <head> 
    <meta charset="utf-8"> 
    <meta http-equiv="X-UA-Compatible" content="IE=7,IE=9" /> 
	
    <meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no"/> 
	<meta name="SKYPE_TOOLBAR" content="SKYPE_TOOLBAR_PARSER_COMPATIBLE" />
	
    <title></title> 

    <link rel="stylesheet" type="text/css" href="http://serverapi.arcgisonline.com/jsapi/arcgis/3.3/js/dojo/dijit/themes/tundra/tundra.css" /> 
	<link href="http://serverapi.arcgisonline.com/jsapi/arcgis/3.3/js/dojo/dijit/themes/tundra/form/Button.css" rel="stylesheet"/>
	
	<link rel="stylesheet" type="text/css" href="http://serverapi.arcgisonline.com/jsapi/arcgis/3.3/js/dojo/dojox/layout/resources/ExpandoPane.css"/>
    <link rel="stylesheet" type="text/css" href="http://serverapi.arcgisonline.com/jsapi/arcgis/3.3/js/esri/dijit/css/Popup.css" />
	<link rel="stylesheet" type="text/css" href="http://serverapi.arcgisonline.com/jsapi/arcgis/3.3/js/esri/css/esri.css" >  </link>

	<link rel="stylesheet" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css" > </link>
	<link type="text/css" href="css/jquery.jscrollpane.css" rel="stylesheet" media="all" />
	<link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen"> </link>
	<link rel="stylesheet" type="text/css" href="./css/marco_style.css"> </link>
    <link rel="stylesheet" type="text/css" href="style.css">  </link>
	
    <style>
      #map{ margin: 0; padding: 0; } 
      #footer{ 
        border-top: solid 1px #888; 
        height:55px; 
      } 
    </style> 
    <script>
	var dojoConfig = { parseOnLoad: true };
	/*
		packages : [
			{
				name : "my",
				location : "http://localhost/dijits/my"
			}
		]};*/
	</script> 

	<script src="http://code.jquery.com/jquery-latest.js"></script>
	<script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>

	
		<!-- the jScrollPane script -->
	<script type="text/javascript" src="script/jquery.mousewheel.js"></script>
	<script type="text/javascript" src="script/jquery.jscrollpane.min.js"></script>
	
		<script src='script/knockout-2.2.1.js'></script>
	<script src="/bootstrap/js/bootstrap.min.js"></script>
	
    <script src="http://serverapi.arcgisonline.com/jsapi/arcgis/3.3compact"></script>
		
	<script src='attributes.js'> </script>
	<script src='visibility.js'> </script>
	<script src='query.js'> </script>
    <script src='main.js'> </script>
  </head> 
 
<body class="tundra" style='margin-top: 0px;'>
	<div style='height: 7em; padding-top: 20px;'>
		<img src='http://georgia.gov/profiles/georgiagov/themes/gagov/logo.png' alt='Georgia.gov Logo'/>
		<span id='GABranding' style=''>Coastal Dataset Viewer</span>
	</div>

	<div class='container-fluid' style='height: 80%'>
	<!--div class='row-fluid'-->
		<div class='span6' id='LeftPanel' style='height: 100%;'>
			<div class='sidebar-nav' style='height: 3em;'>
				<ul class='nav nav-tabs'>
					<li> <a >All Layers</a> </li>
					<li> <a>On Shore</a> </li>
					<li> <a>Coastal</a> </li>
					<li> <a>Ocean</a> </li>
				</ul>
			</div>
			<div style='height: 100%'>
				<div>
				<ul class='nav nav-tabs nav-stacked' id='myTab' style='width: 48px; float: right;'>
					<li class='active'><a href="#layersTab" data-toggle="tab">
						<i class='icon Layers-icon'></i></a></li>
					<li><a href="#basemapsTab" data-toggle="tab">
						<i class='icon base-layer-icon'></i></a></li>
					<li><a href="#otherDataTab" data-toggle="tab">
						<i class='icon open-maplayer-icon'></i></a></li>
					<li><a href='#legendPane' data-toggle='tab'>
						<i class='icon map-legend-icon'></i></a></li>
					<li><a href='#identifyPane' data-toggle='tab'>
						<i class='icon Identify-results'></i></a></li>
				</ul>
				</div>

				<div class='tab-content' style='height: 100%;'>
					<div class='tab-pane active' id="layersTab" style='padding-left:1em;'>
						<h2>Data Layers</h2>
						<div class='scroll-pane vertical-only' style='overflow: auto; height: 50em;'>
							<div style='padding-right: 1em;'>
								<div class='accordion' id='layersVisibList' data-bind="template: {name: 'layers_template', foreach: return_map_layers() }">
								</div>
								
								<script type="text/html" id="layers_template">
									<!-- ko if: (children.length > 0) -->
										<div class='accordion-heading' data-bind="click : viewModel.setOpenTheme , css:{'active': true}">
											<div> <a class='accordion-toggle'>  <span data-bind='text: name'></span> </a> </div>
										</div>
										<div class='accordion-body collapse' data-bind="css: {'in': viewModel.isOpenTheme(name) }"
												style='margin-left: 20px; overflow: auto;'>
											<div data-bind="template: {name: 'layers_template', foreach: children }">
											</div>
										</div>
									<!-- /ko -->
									<!-- ko if: (children.length == 0) -->
										<div class='accordion-inner'>
											<div class='btn-group btn-group-layer'>
												<span class='btn btn-layer' style='padding-top: 0px; margin: 0px;' data-bind='click: viewModel.toggleVisibleLayer'>
													<i class='check icon-large icon-check'
													data-bind="visible: viewModel.isVisibleLayer(mapLayerId, seq) "
													style='padding: 4px; margin: 0px; width: 30px; background-image: url("images/glyphicons_152_check.png"); background-position: 0 0;'>
													</i>
													<i class='check icon-large icon-check'
													data-bind="visible: viewModel.isVisibleLayer(mapLayerId, seq) == false"
													style='padding: 4px; margin: 0px; width: 30px; background-image: url("images/glyphicons_153_unchecked.png"); background-position: 0 0;'>
													</i>
												</span>
												<!--a class='btn btn-info-sign'><i class='icon-info-sign icon-large'></i> </a-->
												<span class='btn btn-layer' data-bind='text: name' style='text-align:left; min-width: 12em;'></span>
											</div>
										</div>
									<!-- /ko -->
								</script>
							</div>
						</div>
					</div>
					<div class='tab-pane' id="basemapsTab" style='padding-left:1em;'>
						<h2>Basemaps</h2>
						<!--button data-dojo-type="dijit.form.Button" type="button" id='Return1'>Return to Layers Pane 
							<script type="dojo/on" data-dojo-event="click"
								data-dojo-args="evt">require(["dojo/dom"], function(dom){
								dijit.byId('LeftTabs').selectChild(dijit.byId('layersSection'));
								toggleIdentifyOn(dijit.byId('LeftExPanel'));
							});</script></button -->
						<div id='basemapGallery'> </div>
					</div>
					<div class='tab-pane' id="otherDataTab" style='padding-left:1em;'>
						<h2>Add Data</h2>
						
						<h4>Available Map Services</h4>
						
						<div id='SelectMapLayer'></div>
						
						<button data-dojo-type="dijit.form.Button" type="button" id='MapSrvInfo'>Get Information 
							<script type="dojo/on" data-dojo-event="click"
								data-dojo-args="evt">require(["dojo/dom"], function(dom){
								});</script></button>
						
						<button data-dojo-type="dijit.form.Button" type="button" id='MapSrvRemove'>Remove Service 
							<script type="dojo/on" data-dojo-event="click"
								data-dojo-args="evt">require(["dojo/dom"], function(dom){ var s =
									dijit.byId('SelectMapLayer'); removeLayerFromMap(s,s.getValue());
								});</script></button>

						<h4 style='margin-top: 20px;'>Add Map Service</h4>
						<table>
							<tr>
								<td> <strong>Label:</strong> </td>
								<td> <input id='AddMapSvcLabel' data-dojo-type="dijit.form.ValidationTextBox" /> </td>
							</tr>
							<tr>
								<td> <strong>URL:</strong> </td>
								<td> <input id='AddMapSvcURL' data-dojo-type="dijit.form.ValidationTextBox" /> </td>
							</tr>
						</table>
						
						<div id='SelectMapLayerCatalog'></div>
						<button data-dojo-type="dijit.form.Button" type="button" id='MapSrvAdd'>Add Map Service 
						<script type="dojo/on" data-dojo-event="click" data-dojo-args="evt">
							require(["dojo/dom"], function(dom){
								var l = dijit.byId('AddMapSvcLabel').value;
								var u = dijit.byId('AddMapSvcURL').value; if( l == "" || u == "") { }
								else {
									try {
										addLayerToMap(u,l);
									}
									catch(e) {
										console.debug(e);
									}
										
									dijit.byId('AddMapSvcLabel').set("value","");
									dijit.byId('AddMapSvcURL').set("value",""); }
								});
						</script></button>
					</div>
					<div class='tab-pane' id='legendPane' style='padding-left:1em;'>
						<h2>Map Legend</h2>
						<div id='legendSection'></div>
					</div>
					<div class='tab-pane' id='resultsPane' style='padding-left:1em;'>
					</div>
					<div class='tab-pane' id='identifyPane'style='padding-left: 1em; height: 90%;'>
						<h2>Identify</h2>
						
						<div id='bottomIDPanel' data-dojo-type="dojox.layout.ContentPane" style='height: 100%;'> </div>
					</div>
					
					<div class='tab-pane' id='attribPane' style='padding-left:1em;'> </div>
				</div>
			</div>
		</div>
		<div class='span9' id='MapPanel' style='height: 100%;'>
			<div id="map" style='height:100%;'>
			</div>
		</div>
	<!--/div-->
	</div>
</body>
</html>